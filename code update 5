
"use client";

import Image from "next/image";
import { useState, useRef, useEffect } from "react";


export default function Home() {
  const [isPlaying, setIsPlaying] = useState(false);
  const audioRef = useRef<HTMLAudioElement | null>(null); 
  const [c1Image, setC1Image] = useState("/assets/c1.png");
  const [c2Image, setC2Image] = useState("/assets/c2.png");
  const [ylb1Image, setYlb1Image] = useState("/assets/yl1.png");
  const [bluebImage, setBlueImage] = useState("/assets/blue.png");
  const [greenImage, setGreenImage] = useState("/assets/green.png");
  const [redImage, setRedImage] = useState("/assets/red.png");
  const [bottleImage, setBottleImage] = useState("/assets/bottle.png"); 
  const [bottleSearchImage, setBottleSearchImage] = useState("/assets/bottlesearch.png");
  const [gImage] = useState("/assets/g220.gif");
  const [showBig1, setShowBig1] = useState(true);
  const [showBig2, setShowBig2] = useState(true);
  const [showBig3, setShowBig3] = useState(true);
  const [showBig4, setShowBig4] = useState(true);
  const [showBig5, setShowBig5] = useState(true);
  const allImagesClicked = !showBig1 && !showBig2 && !showBig3 && !showBig4 && !showBig5;
  const [isMenuVisible, setIsMenuVisible] = useState(false);
  const [carPosition, setCarPosition] = useState(0); // ตำแหน่งเริ่มต้นของรถ
  const [isFalling, setIsFalling] = useState(false);
  const [xPos, setXPos] = useState(0); // ตำแหน่งรถ
  const [moved, setMoved] = useState(false); // ป้องกันขยับซ้ำ
  const [isLocked, setIsLocked] = useState(false); // ล็อกหน้าจอขณะรถเคลื่อนที่
  const [isTopicWaterVisible, setIsTopicWaterVisible] = useState(false);
  const [isTextWallVisible, setIsTextWallVisible] = useState(false);
  const [isTextGabageVisible, setIsTextGabageVisible] = useState(false);
  const [isTextTale1Visible, setIsTextTale1Visible] = useState(false);
  const [isTextTale2Visible, setIsTextTale2Visible] = useState(false);
  const [isTextBeachVisible, setIsTextBeachVisible] = useState(false);
  const [isPlasticTaoVisible, setIsPlasticTaoVisible] = useState(true);
  const [isPlasticTaoAnimating, setIsPlasticTaoAnimating] = useState(false);
  const [isGif, setIsGif] = useState(false);
  const [shifted, setShifted] = useState(false);
  const [isTypingVisible, setIsTypingVisible] = useState(true); // สถานะสำหรับควบคุมการแสดงภาพ
  const [isMoved, setIsMoved] = useState(false); // เปลี่ยนชื่อให้ไม่ซ้ำ
  const [showWorld, setShowWorld] = useState(false);
  const [showText, setShowText] = useState(false);
  const videoRef = useRef(null);
  const [isFading, setIsFading] = useState(false);
  const [isRdy, setIsRdy] = useState(false);
  const [opacity, setOpacity] = useState(0); // สร้าง state สำหรับ opacity
  const [isRuy, setIsRuy] = useState(true);
  const [imageOpacity, setImageOpacity] = useState(1); // เปลี่ยนชื่อเป็น imageOpacity
  const [isRcy, setIsRcy] = useState(false);
  const [rcOpacity, setRcOpacity] = useState(1);

  const handleRcToggle = () => {
    setIsRcy(prev => !prev);
    setRcOpacity(prev => (prev === 1 ? 0 : 1));
  };
  const toggleImage = () => {
    setIsRuy(prev => !prev); // สลับค่า isRuy
    setImageOpacity(prev => (prev === 1 ? 0 : 1)); // สลับค่า imageOpacity
  };

  const handleImageClick = () => {
    setIsRdy(prev => !prev); // สลับสถานะ
};

useEffect(() => {
    // อัพเดตค่า opacity เมื่อ isRdy เปลี่ยน
    if (isRdy) {
        setOpacity(1); // ตั้งค่า opacity เป็น 1
    } else {
        setOpacity(0); // ตั้งค่า opacity เป็น 0
    }
}, [isRdy]);

  const handlePlay = () => {
    if (videoRef.current) {
      videoRef.current.play();
    }
  };

  const handleEnd = () => {
    setIsFading(true); // เริ่มให้วิดีโอจางหายไป
  };


  
  const handleNewClick = () => {
    setIsMoved((prev) => !prev); // สลับสถานะระหว่าง true/false
  };

  const handlePlasticTaoClick = () => {
    setIsPlasticTaoAnimating(true); // Trigger the animation
    setTimeout(() => {
      setIsPlasticTaoVisible(false); // Hide plastictao after animation
    }, 1500); // เพิ่มเวลาให้ยาวขึ้น (1.5 วินาที)
  };

  useEffect(() => {
    const handleScroll = () => {
      // Existing scroll handling logic...
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);


  useEffect(() => {
    const handleScroll = () => {
    
      const topicWaterElement = document.getElementById("topicWaterImage");
      const textWallElement = document.getElementById("textWallImage");
      const textGabageElement = document.getElementById("textGabageImage");
      const textTale1Element = document.getElementById("textTale1Image");
      const textTale2Element = document.getElementById("textTale2Image");
      const textBeachElement = document.getElementById("textBeachImage");
      const windowHeight = window.innerHeight;

      

      if (topicWaterElement) {
        const rect = topicWaterElement.getBoundingClientRect();
        setIsTopicWaterVisible(rect.top < windowHeight * 0.8 && rect.bottom > 0);
      }

      if (textWallElement) {
        const rect = textWallElement.getBoundingClientRect();
        setIsTextWallVisible(rect.top < windowHeight * 0.8 && rect.bottom > 0);
      }

      if (textGabageElement) {
        const rect = textGabageElement.getBoundingClientRect();
        setIsTextGabageVisible(rect.top < windowHeight * 0.8 && rect.bottom > 0);
      }

      if (textTale1Element) {
        const rect = textTale1Element.getBoundingClientRect();
        setIsTextTale1Visible(rect.top < windowHeight * 0.8 && rect.bottom > 0);
      }

      if (textTale2Element) {
        const rect = textTale2Element.getBoundingClientRect();
        setIsTextTale2Visible(rect.top < windowHeight * 0.8 && rect.bottom > 0);
      }

      if (textBeachElement) {
        const rect = textBeachElement.getBoundingClientRect();
        setIsTextBeachVisible(rect.top < windowHeight * 0.8 && rect.bottom > 0);
      }
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);


  

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 0.5 && !moved) {
        setIsLocked(true); // 🔒 ล็อกการเลื่อน
        setXPos(300); // 🚗 ขยับไป 300px
        setMoved(true); // กันไม่ให้ขยับซ้ำ

        // 📜 หลังจาก 1 วินาที ให้เลื่อนหน้าเว็บลงไปที่ตำแหน่ง 2000px แล้วปลดล็อก
        setTimeout(() => {
          window.scrollTo({
            top: 1200,
            behavior: "smooth",
          });

          // 🔓 ปลดล็อกหลังจากเลื่อนเสร็จ
          setTimeout(() => {
            setIsLocked(false);
          }, 1000);
        }, 1000);
      }
    };

    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, [moved]);

  useEffect(() => {
    if (isLocked) {
      document.body.style.overflow = "hidden";
    } else {
      document.body.style.overflow = "auto";
    }
  }, [isLocked]);

  const handleSealClick = () => {
    setIsFalling(true);
    setTimeout(() => {
      setIsFalling(false); // ซ่อนหลังจาก 5 วินาที
    }, 5000);
  };

  const handleScrollTop = () => {
    window.scrollTo({ top: 0, behavior: "smooth" }); // เลื่อนขึ้นไปบนสุด
  };
  const handleScrollDown = () => {
    window.scrollTo({ top: 4200, behavior: "smooth" }); // เลื่อนไปที่ตำแหน่ง 5000px
  };
  const handleScrollToBottom = () => {
    window.scrollTo({ top: 10100, behavior: "smooth" }); // เลื่อนไปด้านล่างสุดของหน้า
  };


  const moveCar = () => {
    setCarPosition((prev) => {
      if (prev === 0) {
        // ถ้าอยู่ที่จุดเริ่มต้น ให้เลื่อนไป 1300px
        return 1300;
      } else if (prev === 1300) {
        // ถ้าอยู่ที่ 1300px ให้กลับไปที่จุดเริ่มต้น
        return 0;
      }
      return prev;
    });
  };

  const toggleMenu = () => {
    setIsMenuVisible(!isMenuVisible); // เปลี่ยนค่าจะแสดง/ซ่อนรูปภาพ
  };
  useEffect(() => {
    return () => {
      if (audioRef.current) {
        audioRef.current.pause();
      }
    };
  }, []);
  

  const togglePlay = () => {
    if (audioRef.current) {
      if (isPlaying) {
        audioRef.current.pause();
      } else {
        audioRef.current.play();
      }
      setIsPlaying(!isPlaying);
    }
  };

  const toggleC1Image = () => {
    setC1Image((prev) => (prev === "/assets/c1.png" ? "/assets/cb1.png" : "/assets/c1.png"));
  };

  const toggleC2Image = () => {
    setC2Image((prev) => (prev === "/assets/c2.png" ? "/assets/cb2.png" : "/assets/c2.png"));
  };

  const toggleYlb1Image = () => {
    setYlb1Image((prev) => (prev === "/assets/yl1.png" ? "/assets/ylb1.png" : "/assets/yl1.png"));
  };

  const toggleBlueImage = () => {
    setBlueImage((prev) => (prev === "/assets/blue.png" ? "/assets/blueb.png" : "/assets/blue.png"));
  };

  const toggleGreenImage = () => {
    setGreenImage((prev) => (prev === "/assets/green.png" ? "/assets/greenb.png" : "/assets/green.png"));
  };

  const toggleRedImage = () => {
    setRedImage((prev) => (prev === "/assets/red.png" ? "/assets/redb.png" : "/assets/red.png"));
  };

  const toggleBottleImage = () => {
    setBottleImage((prev) => (prev === "/assets/bottle.png" ? "/assets/bottleblack.png" : "/assets/bottle.png"));
  };
  const toggleBottleSearchImage = () => {
    setBottleSearchImage((prev) => prev === "/assets/bottlesearch.png" ? "/assets/bottlesearchblack.png" : "/assets/bottlesearch.png");
  };
  const handleFlaskClick = () => {
    setShifted((prev) => !prev); // สลับสถานะระหว่าง true/false
    setIsTypingVisible((prev) => !prev); // สลับการแสดงผลระหว่าง typing และ text1
  };

  const handleClick = () => {
    if (showWorld) {
      // ถ้ากดอีกครั้งให้ซ่อนรูปทั้งหมด
      setShowText(false);
      setTimeout(() => {
        setShowWorld(false);
      }, 500); // ให้ world หายก่อน textworld 0.5 วินาที
    } else {
      // ถ้ากดครั้งแรกให้ world ขึ้นก่อน แล้ว textworld ขึ้นหลัง 1 วิ
      setShowWorld(true);
      setTimeout(() => {
        setShowText(true);
      }, 1000);
    }
  };
  

  return (
    <div id="home" className="w-full relative" style={{ width: "100vw", height: "100vh"}}>
        <Image
        src="/assets/hand.gif"
        alt="hand"
        width={80}
        height={80}
        className="absolute top-[560px] right-[700px] z-60"
      />
     {/* วิดีโอ */}
     <video
        ref={videoRef}
        src="/assets/Door.mp4"
        muted
        onClick={handlePlay} // คลิกเพื่อเล่น
        onEnded={handleEnd} // เมื่อเล่นจบ ให้จางหายไป
        style={{
          position: "absolute",
          top: "50%",
          left: "50%",
          width: "100%",
          height: "100%",
          transform: "translate(-50%, -50%)",
          objectFit: "cover",
          zIndex: 50,
          cursor: "pointer",
          opacity: isFading ? 0 : 1, // ถ้า isFading เป็น true ให้ค่อยๆจาง
          transition: "opacity 2s ease-out", // ใช้ transition 2 วินาที
        }}
      />

      <Image
        src="/assets/home.jpg"
        alt="home"
        width={1920}
        height={1000}
        priority
      />
        <Image
        id="topicImage"
        src="/assets/topic.png"
        alt="topic"
        width={500}
        height={500}
        className="absolute top-[80px] right-[550px]"
      />
      <Image
        src="/assets/paiwood.png"
        alt="paiwood"
        width={150}
        height={150}
        className="absolute top-[670px] right-[770px]"
      />
         <Image
      src="/assets/car.png"
      alt="car"
      width={150}
      height={150}
      className="absolute top-[470px] right-[1050px]"
      style={{
        position: "absolute",
        transform: `translateX(${xPos}px)`,
        transition: "transform 1s ease-in-out"
      }}
    />
       <Image
        src="/assets/down.png"
        alt="down"
        width={70}
        height={70}
        className="absolute top-[670px] right-[680px] animate-[bounce_1s_infinite]"
      />

      <button
        onClick={togglePlay}
        className="fixed top-24 right-4 w-12 h-12 bg-transparent z-50 flex flex-col items-center gap-2"
      >
        <Image
          src={isPlaying ? "/assets/sound1.png" : "/assets/sound-stop.png"}
          alt="sound icon"
          width={50}
          height={50}
        />
      </button>

      <div
        onClick={toggleMenu}
        className="fixed top-4 right-4 w-12 h-12 bg-transparent z-50 flex flex-col items-center gap-2 cursor-pointer "
      >
        <Image
          src="/assets/menu.png"
          alt="menu"
          width={200}
          height={200}
        />
      </div>
      
    
    <div>
     
    {isMenuVisible && (
  <div className="fixed top-4 right-20 bg-transparent z-50 flex flex-col items-center ">
    
      <Image
        src="/assets/main.png"
        alt="main"
        width={200}
        height={200}
        className="cursor-pointer image-hover-scale"
        onClick={handleScrollTop}
      />
     <Image
            src="/assets/effect.png"
            alt="effect"
            width={200}
            height={200}
            className="cursor-pointer image-hover-scale"
            onClick={handleScrollDown} // กดแล้วเลื่อนไปที่ตำแหน่ง 4150px
          />
   <Image
            src="/assets/howto.png"
            alt="howto"
            width={200}
            height={200}
            className="cursor-pointer image-hover-scale"
            onClick={handleScrollToBottom} // กดแล้วเลื่อนไปหน้าสุดท้าย
          />
  </div>
)}
    </div>
    
        <audio 
          ref={audioRef} 
          src="/assets/music.mp3" 
          loop 
        />

        <div className="relative">
          <Image 
            src="/assets/water2.jpg" 
            alt="images" 
            width={1920} 
            height={1000} 
          />
         <Image
        id="topicWaterImage"
        src="/assets/topicwater.png"
        alt="topicwater"
        width={1000}
        height={1000}
        className={`absolute top-6 left-72 transition-transform duration-500 ease-out 
          ${isTopicWaterVisible ? "scale-100 opacity-100" : "scale-50 opacity-0"}`}
      />
           <Image
            src="/assets/bt.png"
            alt="images"
            width={500}
            height={500}
            className="absolute top-[200px] left-[600px] transform  transition-opacity duration-300 hover:opacity-0 animate-[wiggle_1s_ease-in-out_infinite]"
          />
          <Image
            src="/assets/textbt.png"
            alt="image"
            width={1500}
            height={1500}
            className="absolute top-2/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2 transition-opacity duration-300 opacity-0 hover:opacity-100"
          />
        </div>

        <div className="relative mt-0 flex flex-col items-center">
          <Image 
            src="/assets/what.jpg" 
            alt="New Image"
            width={1920}
            height={1000} 
            className="w-full h-full" 
          />
          <Image 
        src="/assets/question.png" 
        alt="question"
        width={100}
        height={100} 
        className="absolute top-[200px] right-[500px] animate-[wiggle_0.5s_ease-in-out_infinite]"
/>

          <div className="absolute top-96 right-20 flex flex-col items-center gap-6">
  <Image 
    src={c1Image} 
    alt="c1 image" 
    width={500} 
    height={500} 
    onClick={toggleC1Image} 
    className="cursor-pointer image-hover-scale hover:opacity-80 active:scale-95 transition-all" 
    title="คลิกเพื่อเลือก C1 Image"  // เพิ่ม tooltip เมื่อ hover
  />
  <Image 
    src={c2Image} 
    alt="c2 image" 
    width={500} 
    height={500} 
    onClick={toggleC2Image} 
    className="cursor-pointer image-hover-scale hover:opacity-80 active:scale-95 transition-all" 
    title="คลิกเพื่อเลือก C2 Image"  // เพิ่ม tooltip เมื่อ hover
  />
</div> 
        </div>

        <div className="relative mt-0">
          <Image 
            src="/assets/wall3.jpg" 
            alt="wall3" 
            width={1920} 
            height={1000} 
            className="object-cover w-full h-full" 
          />
          <Image
        id="textWallImage"
        src="/assets/textwall3.png"
        alt="textwall3"
        width={1000}
        height={1000}
        className={`absolute top-10 left-80 transition-transform duration-500 ease-out 
          ${isTextWallVisible ? "scale-100 opacity-100" : "scale-50 opacity-0"}`}
      />
          <Image 
            src={ylb1Image} 
            alt="ylb1 image" 
            width={250} 
            height={250} 
            className="absolute left-[150px] top-44 object-cover image-hover-scale" 
            onClick={toggleYlb1Image} 
          />
          <Image 
            src={bluebImage} 
            alt="blue" 
            width={250} 
            height={250} 
            className="absolute left-[480px] top-44 object-cover transform  rotate-10 image-hover-scale" 
            onClick={toggleBlueImage} 
          />
          <Image 
            src={greenImage} 
            alt="green" 
            width={250} 
            height={250} 
            className="absolute right-[500px] top-44 object-cover transform rotate-10 image-hover-scale" 
            onClick={toggleGreenImage} 
          />
          <Image 
            src={redImage} 
            alt="red" 
            width={250} 
            height={250} 
            className="absolute right-[160px] top-44 object-cover transform rotate-10 image-hover-scale " 
            onClick={toggleRedImage} 
          />
        </div>

        <div className="relative mt-0">
        <Image 
            src="/assets/gabage.jpg" 
            alt="gabage" 
            width={1920} 
            height={1000} 
            className="object-cover w-full h-full" 
          />
          <Image
        id="textGabageImage"
        src="/assets/textgabage.png"
        alt="textgabage"
        width={700}
        height={700}
        className={`absolute top-20 right-16 transition-transform duration-500 ease-out 
          ${isTextGabageVisible ? "scale-100 opacity-100" : "scale-50 opacity-0"}`}
      />
          <Image 
            src={bottleImage} 
            alt="bottle" 
            width={800} 
            height={800} 
            className="absolute top-56 left-52 image-hover-scale" 
            onClick={toggleBottleImage}
          />
          <Image 
            src={bottleSearchImage} 
            alt="bottlesearch" 
            width={1000} 
            height={1000} 
            className="absolute top-[750px] left-52 cursor-pointer image-hover-scale" 
            onClick={toggleBottleSearchImage} 
          />
           <div className="relative mt-0">
          <Image 
            src="/assets/tale.jpg" 
            alt="tale" 
            width={1920} 
            height={1000} 
            className="object-cover w-full h-full" 
          />
         
          <Image
      src={isGif ? "/assets/wefish.gif" : "/assets/wefish.png"}
      alt="wefish"
      width={350}
      height={350}
      className="absolute top-[1750px] left-[310px] animate-[wiggle_1s_ease-in-out_infinite]"
      onClick={() => setIsGif(true)}
    />
       
          {/* ภาพ taonoi */}
          <Image
        src="/assets/taonoi.png"
        alt="taonoi"
        width={300}
        height={300}
        className="absolute top-[1600px] left-[1000px] animate-[wiggle_1s_ease-in-out_infinite]"
      />

      {/* ภาพ plastictao */}
      {isPlasticTaoVisible && (
        <Image
          src="/assets/plastictao.png"
          alt="plastictao"
          width={250}
          height={250}
          className={`absolute top-[1600px] left-[1000px] transition-transform duration-1500 ease-out animate-[wiggle_1s_ease-in-out_infinite]
            ${isPlasticTaoAnimating ? "translate-y-[-100px] opacity-0" : ""}`} // เพิ่มระยะเวลาเป็น 1500ms
          onClick={handlePlasticTaoClick} // Move the click event here
        />
      )}
            <Image
        id="textTale1Image"
        src="/assets/texttale1.png"
        alt="texttale1"
        width={700}
        height={700}
        className={`absolute top-[480px] right-80 cursor-pointer transition-transform duration-500 ease-out 
          ${isTextTale1Visible ? "scale-100 opacity-100" : "scale-50 opacity-0"}`}
      />

      <Image
        id="textTale2Image"
        src="/assets/texttale2.png"
        alt="texttale2"
        width={700}
        height={700}
        className={`absolute top-[1350px] left-44 cursor-pointer transition-transform duration-500 ease-out 
          ${isTextTale2Visible ? "scale-100 opacity-100" : "scale-50 opacity-0"}`}
      />
          <Image 
          src={gImage} 
          alt="g220" 
          width={400} 
          height={400} 
          className="absolute top-[480px] left-24 cursor-pointer" 
        />
        <Image 
          src="/assets/gback220.gif" 
          alt="gback220" 
          width={400} 
          height={400} 
          className="absolute top-[480px] left-24 cursor-pointer transition-opacity duration-300 opacity-0 hover:opacity-100" 
        />
        <Image 
          src="/assets/openbottle.gif" 
          alt="openbottle" 
          width={400} 
          height={400} 
          className="absolute top-[900px] right-28 cursor-pointer transition-opacity duration-300 hover:opacity-0" 
        />
        <Image 
          src="/assets/openbottleback.gif" 
          alt="openbottleback" 
          width={400} 
          height={400} 
          className="absolute top-[900px] right-28 cursor-pointer transition-opacity duration-300 opacity-0 hover:opacity-100" 
        />
        <Image 
          src="/assets/tao.gif" 
          alt="openbottle" 
          width={400} 
          height={400} 
          className="absolute top-[900px] right-[700px] cursor-pointer transition-opacity duration-300 hover:opacity-0" 
        />
        <Image 
          src="/assets/taoback.gif" 
          alt="openbottleback" 
          width={400} 
          height={400} 
          className="absolute top-[900px] right-[700px] cursor-pointer transition-opacity duration-300 opacity-0 hover:opacity-100" 
        />
        <div className="relative mt-0">
          <Image 
            src="/assets/beach.jpg" 
            alt="beach" 
            width={1920} 
            height={1000} 
            className="object-cover w-full h-full" 
          />
          
          <Image
        id="textBeachImage"
        src="/assets/textbeach.png"
        alt="textbeach"
        width={700}
        height={700}
        className={`absolute top-[1300px] left-[780px] transition-transform duration-500 ease-out 
          ${isTextBeachVisible ? "scale-100 opacity-100" : "scale-50 opacity-0"}`}
      />
          <Image
        src="/assets/wan.png"
        alt="seal"
        width={500}
        height={500}
        className="absolute top-[150px] left-[700px] cursor-pointer transition-opacity duration-300 animate-[wiggle_1s_ease-in-out_infinite]"
        
      />
          <div>
      {/* Seal */}
      <Image
        src="/assets/seal.png"
        alt="seal"
        width={500}
        height={500}
        className="absolute top-[1200px] left-[200px] cursor-pointer transition-opacity duration-300 animate-[wiggle_1s_ease-in-out_infinite]"
        onClick={handleSealClick}
      />

{/* Big images */}
{["big1", "big2", "big3", "big4", "big5", "big2", "big3", "big1"].map((name, index) => (
  <Image
    key={index}
    src={`/assets/${name}.png`}
    alt={name}
    width={150}
    height={150}
    className={`absolute top-[1000px] ${index >= 6 ? `right-[${index === 6 ? 20 : 200}px]` : `left-[${200 + index * 200}px]`} 
      cursor-pointer transition-all duration-[2000ms] ${isFalling ? "translate-y-[800px] opacity-0" : ""}`}
  />
))}

    </div>
          <Image 
            src="/assets/clock.gif" 
            alt="clock" 
            width={400} 
            height={400} 
            className="absolute top-[500px] left-[250px] cursor-pointer transition-opacity duration-300 hover:opacity-0" 
          />
          <Image 
            src="/assets/clockback.gif" 
            alt="clockback" 
            width={400} 
            height={400} 
            className="absolute top-[500px] left-[250px] cursor-pointer transition-opacity duration-300 opacity-0 hover:opacity-100" 
          />
          <div className="relative mt-0">
          <Image 
            src="/assets/sai.jpg" 
            alt="sai" 
            width={1920} 
            height={1000} 
            className="object-cover w-full h-full" 
          />
           
          {showBig1 && (
          <Image 
            src="/assets/big1.png" 
            alt="big1" 
            width={200} 
            height={200} 
            className="absolute top-[100px] left-[250px] cursor-pointer transition-opacity duration-300 animate-bounce" 
            onClick={() => setShowBig1(false)}
          />
        )}
        {showBig2 && (
          <Image 
            src="/assets/big2.png" 
            alt="big2" 
            width={200} 
            height={200} 
            className="absolute top-[450px] left-[300px] cursor-pointer transition-opacity duration-300 animate-bounce" 
            onClick={() => setShowBig2(false)}
          />
        )}
        {showBig3 && (
          <Image 
            src="/assets/big3.png" 
            alt="big3" 
            width={200} 
            height={200} 
            className="absolute top-[500px] right-[250px] cursor-pointer transition-opacity duration-300 animate-bounce " 
            onClick={() => setShowBig3(false)}
          />
        )}
        {showBig4 && (
          <Image 
            src="/assets/big4.png" 
            alt="big4" 
            width={200} 
            height={200} 
            className="absolute top-[150px] right-[350px] cursor-pointer transition-opacity duration-300 animate-bounce" 
            onClick={() => setShowBig4(false)}
          />
        )}
        {showBig5 && (
          <Image 
            src="/assets/big5.png" 
            alt="big5" 
            width={150} 
            height={150} 
            className="absolute top-[300px] right-[800px] cursor-pointer transition-opacity duration-300 animate-bounce" 
            onClick={() => setShowBig5(false)}
          />
        )}
         {allImagesClicked && (
          <Image 
            src="/assets/thankyou.png" 
            alt="thankyou" 
            width={1000} 
            height={1000} 
            className="absolute top-[180px] right-[400px] cursor-pointer transition-opacity duration-300" 
          />
        )}
          </div>
          </div>
          <div className="w-full h-screen overflow-x-scroll relative">
      <div
        className="absolute top-0 left-0 h-full  flex transition-transform duration-300"
        style={{ transform: `translateX(-${carPosition}px)` }}
      >
        <Image 
          src="/assets/street.jpg" 
          alt="street" 
          width={1920} 
          height={1000} 
          className="object-cover w-[1920px] h-full" 
        />
        <Image 
          src="/assets/street2.jpg" 
          alt="street2" 
          width={1920} 
          height={1000} 
          className="object-cover w-[1920px] h-full" 
        />
        
        <Image 
          src="/assets/recycle1.jpg" 
          alt="recycle1" 
          width={1920} 
          height={1000} 
          className="object-cover w-[1920px] h-full" 
        />
         <Image 
          src="/assets/recycle12.jpg" 
          alt="recycle12" 
          width={1920} 
          height={1000} 
          className="object-cover w-[1920px] h-full" 
        />
         <Image 
          src="/assets/lang.png" 
          alt="lang" 
          width={800} 
          height={800} 
          className="absolute top-[575px] left-[3700px]" 
        />
          <Image
        src="/assets/btsleep.png"
        alt="btsleep"
        width={900}
        height={900}
        className={`absolute top-[590px] left-[3750px] cursor-pointer transition-transform duration-1000 ${
          shifted ? "translate-x-[300px]" : "translate-x-0"
        }`}
        onClick={handleFlaskClick}
      />
         {isTypingVisible ? ( // ตรวจสอบสถานะเพื่อแสดงภาพ
        <Image
          src="/assets/typing.gif"
          alt="typing"
          width={700}
          height={700}
          className="absolute top-[300px] left-[3750px]"
        />
      ) : (
        <Image
        src="/assets/text1.png"
        alt="text1"
        width={700}
        height={700}
        className="absolute top-[240px] left-[3750px]"
      />
    )}
    <Image 
        src="/assets/plasbottleone.png" 
        alt="pbtone" 
        width={350} 
        height={350} 
        className="absolute top-[160px] left-[4500px]" 
      />
      <Image 
        src="/assets/typing.gif" 
        alt="typing" 
        width={700} 
        height={700} 
        className="absolute top-[100px] left-[5000px]" 
      />
      <Image 
        src="/assets/text2.png" 
        alt="text2" 
        width={700} 
        height={700} 
        className="absolute top-[40px] left-[5005px]" 
      />
       <Image
        src="/assets/new.png"
        alt="new"
        width={1000}
        height={1000}
        className="absolute top-[280px] left-[4850px] cursor-pointer" // ใช้ cursor-pointer เพื่อแสดงว่าคลิกได้
        onClick={handleNewClick} // เมื่อคลิกจะเรียกฟังก์ชันนี้
      />
      <Image
        src="/assets/btpt.png"
        alt="btpt"
        width={40}
        height={40}
        className={`absolute top-[400px] left-[5250px] transition-transform duration-1000 ${
          isMoved ? "translate-x-[500px]" : "translate-x-0"
        }`} // เลื่อนเมื่อ isMoved เป็น true
      />
       <Image 
        src="/assets/wallnew.jpg" 
        alt="wallnew" 
        width={1920} 
          height={1000} 
          className="object-cover w-[1920px] h-full" 
      />
       <Image 
        src="/assets/textwallnew.png" 
        alt="textwallnew" 
        width={600} 
          height={600} 
          className="absolute top-[60px] left-[6380px]" 
      />
       <Image 
    src="/assets/kapao.png" 
    alt="kapao" 
    width={300} 
    height={300} 
    className="absolute top-[270px] left-[6180px] transition-opacity duration-500 ease-in-out opacity-100 hover:opacity-100"
  />
  <Image 
    src="/assets/kapaoback.png" 
    alt="kapaoback" 
    width={300} 
    height={300} 
    className="absolute top-[200px] left-[6150px] transition-transform duration-500 ease-in-out scale-100 opacity-0 hover:scale-110 hover:opacity-100"
  />
      <Image 
        src="/assets/btblue.png" 
        alt="btblue" 
        width={300} 
          height={300} 
          className="absolute top-[290px] left-[6520px] transition-opacity duration-500 ease-in-out opacity-100 hover:opacity-100" 
      />
      <Image 
        src="/assets/btblueback.png" 
        alt="btblueback" 
        width={340} 
          height={340} 
          className="absolute top-[200px] left-[6500px] transition-transform duration-500 ease-in-out scale-100 opacity-0 hover:scale-110 hover:opacity-100" 
      />
      <Image 
        src="/assets/sh.png" 
        alt="sh" 
        width={300} 
          height={300} 
          className="absolute top-[270px] left-[6845px] transition-opacity duration-500 ease-in-out opacity-100 hover:opacity-100" 
      />
      <Image 
        src="/assets/shback.png" 
        alt="shback" 
        width={300} 
          height={300} 
          className="absolute top-[200px] left-[6880px] transition-transform duration-500 ease-in-out scale-100 opacity-0 hover:scale-110 hover:opacity-100" 
      />
    </div>

    <div className="absolute top-[200px] left-[30px] cursor-pointer" onClick={moveCar}>
        <Image 
          src="/assets/car.png" 
          alt="car" 
          width={700} 
          height={700} 
        />
      </div>

          </div> 
          </div> 
          <div className="relative min-h-screen w-full">
      {/* รูปพื้นหลัง */}
      <Image 
        src="/assets/bg4.jpg" 
        alt="bg4" 
        layout="fill" 
        objectFit="cover" 
        quality={100} 
        priority
      />

      {/* รูป textworld.png */}
      <div className="relative z-10 flex items-center justify-center h-screen">
        <Image 
          src="/assets/textworld.png" 
          alt="textworld" 
          width={800} 
          height={800} 
          className="absolute top-20 left-1/2 -translate-x-1/2 -translate-y-1/2"
        />
        {/* textworld2.png แสดงหลัง 1 วินาที */}
      <Image
        src="/assets/textworld2.png"
        alt="textworld2"
        width={400}
        height={400}
        className={`absolute top-44 left-1/2 -translate-x-1/2 -translate-y-1/2 transition-opacity duration-500 ${
          showText ? "opacity-100" : "opacity-0"
        }`}
      />
       
      {/* hand.png (ปุ่มกด toggle) */}
      <Image
        src="/assets/hand.png"
        alt="hand"
        width={550}
        height={550}
        className="absolute top-3/4 left-1/2 -translate-x-1/2 -translate-y-1/2 animate-pulse cursor-pointer"
        onClick={handleClick}
      />
        
    {/* world.png แสดงก่อน */}
    <Image
        src="/assets/world.png"
        alt="world"
        width={500}
        height={500}
        className={`absolute top-[430px] left-[780px] -translate-x-1/2 -translate-y-1/2 transition-opacity duration-500 ${
          showWorld ? "opacity-100" : "opacity-0"
        }`}
      />
      </div>
          </div>

          <div>
       <Image 
        src="/assets/wall5.jpg" 
        alt="wall5" 
        width={1920} 
          height={1000} 
          className="object-cover w-[1920px] h-full" 
      />
       {isRdy ? (
                <Image 
                    src="/assets/rdy.png" 
                    alt="rdy" 
                    width={200} 
                    height={200} 
                    className="absolute top-[7580] left-[300] cursor-pointer" 
                    onClick={handleImageClick} 
                />
            ) : (
                <Image 
                    src="/assets/rd.png" 
                    alt="rd" 
                    width={200} 
                    height={200} 
                    className="absolute top-[7580] left-[300] cursor-pointer" 
                    onClick={handleImageClick} 
                />
            )}
            <Image 
                src="/assets/rd1.png" 
                alt="rd1" 
                width={750} 
                height={750} 
                className={`absolute transition-transform duration-500 ${ opacity === 1 ? 'top-[7800] left-[475]' : 'top-[7800] left-[475]'}`} 
                style={{ opacity }} // ใช้ค่า opacity จาก state
            />
            
            <Image 
            src="/assets/rdtext.png" 
            alt="rdtext" 
            width={460} 
            height={460} 
            className={`absolute transition-opacity duration-500 ${opacity === 1 ? 'top-[7795]' : 'top-[7795]'} left-[580]`} 
            style={{ opacity }} // ใช้ค่า opacity จาก state
        />
        <Image 
            src="/assets/rdtext1.png" 
            alt="rdtext1" 
            width={450} 
            height={450} 
            className={`absolute transition-opacity duration-500 ${opacity === 1 ? 'top-[7800]' : 'top-[7800]'} left-[580]`} 
            style={{ opacity }} // ใช้ค่า opacity จาก state
        /> 
       {isRuy ? (
        <Image 
          src="/assets/ruy.png" 
          alt="ruy" 
          width={200} 
          height={200} 
          className="absolute top-[7580] left-[700]" 
          onClick={toggleImage} // ใช้ชื่อฟังก์ชันใหม่ที่นี่
        />
      ) : (
        <Image 
          src="/assets/ru.png" 
          alt="ru" 
          width={200} 
          height={200} 
          className="absolute top-[7580] left-[700]" 
          onClick={toggleImage} // ใช้ชื่อฟังก์ชันใหม่ที่นี่
        />
      )}

      <Image 
        src="/assets/ru1.png" 
        alt="ru1" 
        width={750} 
        height={750} 
        className={`absolute transition-opacity duration-500 ${imageOpacity === 1 ? 'top-[7725] left-[457]' : 'top-[7725] left-[457]'}`} 
        style={{ opacity: imageOpacity }} // ใช้ค่า imageOpacity จาก state
      />

      <Image 
        src="/assets/rutext.png" 
        alt="rut" 
        width={460} 
        height={460} 
        className={`absolute transition-opacity duration-500 ${imageOpacity === 1 ? 'top-[7795]' : 'top-[7795]'} left-[580]`} 
        style={{ opacity: imageOpacity }} // ใช้ค่า imageOpacity จาก state
      />

      <Image 
        src="/assets/rutext1.png" 
        alt="rut1" 
        width={460} 
        height={460} 
        className={`absolute transition-opacity duration-500 ${imageOpacity === 1 ? 'top-[7795]' : 'top-[7795]'} left-[580]`} 
        style={{ opacity: imageOpacity }} // ใช้ค่า imageOpacity จาก state
      />
             {!isRcy ? ( // เปลี่ยนจาก isRcy เป็น !isRcy
  <Image 
    src="/assets/rcy.png" 
    alt="rcy" 
    width={200} 
    height={200} 
    className="absolute top-[7580] left-[1100] cursor-pointer" 
    onClick={handleRcToggle} // คลิกเพื่อสลับภาพ
  />
) : (
  <Image 
    src="/assets/rc.png" 
    alt="rc" 
    width={200} 
    height={200} 
    className="absolute top-[7580] left-[1100] cursor-pointer" 
    onClick={handleRcToggle} // คลิกเพื่อสลับภาพ
  />
)}

      <Image 
        src="/assets/rc1.png" 
        alt="rc1" 
        width={900} 
        height={900} 
        className={`absolute transition-opacity duration-500 ${rcOpacity === 1 ? 'top-[7725]' : 'top-[7725]'} left-[380]`}  
        style={{ opacity: rcOpacity }} // ซ่อน/แสดงตาม rcOpacity
      />

      <Image 
        src="/assets/rctext.png" 
        alt="rct" 
        width={470} 
        height={470} 
        className={`absolute transition-opacity duration-500 ${rcOpacity === 1 ? 'top-[7795]' : 'top-[7795]'} left-[570]`}
        style={{ opacity: rcOpacity }} // ซ่อน/แสดงตาม rcOpacity
      />

      <Image 
        src="/assets/rctext1.png" 
        alt="rct1" 
        width={450} 
        height={450} 
        className={`absolute transition-opacity duration-500 ${rcOpacity === 1 ? 'top-[7795]' : 'top-[7795]'} left-[580]`}
        style={{ opacity: rcOpacity }} // ซ่อน/แสดงตาม rcOpacity
      />
      </div>
        </div> 
      </div>
  );
} 
